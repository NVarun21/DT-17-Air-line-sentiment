document.getElementById("sentimentForm").addEventListener("submit", function(event) {
    event.preventDefault();  // Prevent form submission

    var message = document.getElementById("message").value;

    fetch("/predict", {
        method: "POST",
        headers: {
            "Content-Type": "application/x-www-form-urlencoded"
        },
        body: "message=" + encodeURIComponent(message)
    })
    .then(response => response.json())
    .then(data => {
        let sentimentText = "";
        if (data.result === "positive") {
            sentimentText = "Positive 😊";
        } else if (data.result === "negative") {
            sentimentText = "Negative 😡";
        } else {
            sentimentText = "Neutral 😐";
        }
        document.getElementById("result").innerHTML = "Sentiment: " + sentimentText;
    })
    .catch(error => {
        document.getElementById("result").innerHTML = "Error in prediction!";
    });
});
